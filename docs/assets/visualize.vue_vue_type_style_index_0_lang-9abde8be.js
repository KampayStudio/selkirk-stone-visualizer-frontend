import{d as J,e as p,ao as K,o as x,p as A,w as a,q as r,$ as f,a0 as h,i as n,I as B,k as M,G as Q,g as q,F as W,H as E,aq as $,C as Z,v as I,s as F,ap as ee}from"./index-1460a226.js";import{V as te,a as P}from"./VWindowItem-75cbab04.js";const ne={class:"image-container"},oe=["src"],se=n("div",{class:"d-flex align-center text-gray text-body-2",style:{"margin-block-end":"35px"}},[n("h6",{class:"text-body-2"},[n("b",null,"Categories")])],-1),ae={class:"text-h6 text-secondary"},re=n("h1",{class:"text-h4"}," Choose Stone Category ",-1),ie=n("p",{class:"text-body-2 mt-3"}," Please choose a stone category you want to apply on the wall. ",-1),le={style:{position:"absolute","z-index":"2",color:"white"}},me={class:"d-flex align-center text-gray text-body-2",style:{"margin-block-end":"35px"}},ge={class:"text-body-2"},ue=n("b",null,"Colors",-1),pe={class:"text-h6 text-secondary"},ce=n("h1",{class:"text-h4"}," Choose Stone Color ",-1),de=n("p",{class:"text-body-2 mt-3"}," Please choose only one stone color you want to apply on the wall. ",-1),he={style:{position:"absolute","z-index":"2",color:"white"}},fe=J({__name:"visualize",props:["image","selected-wall"],emits:["proceed"],setup(D,{emit:G}){const y=D,H=p([{name:"Aged Brick",image:"/temp/stones/aged_brick/Ashen.jpg",status:!0,isInStock:!0,colors:[{name:"Ashen",image:"/temp/stones/aged_brick/Ashen.jpg",show:!0},{name:"Bisque",image:"/temp/stones/aged_brick/Bisque.jpg",show:!0},{name:"Brownstone",image:"/temp/stones/aged_brick/Brownstone.jpg",show:!0},{name:"Coral",image:"/temp/stones/aged_brick/Coral.jpg",show:!0},{name:"Ebony",image:"/temp/stones/aged_brick/Ebony.jpg",show:!0},{name:"Granite Ridge",image:"/temp/stones/aged_brick/Granite Ridge.jpg",show:!0},{name:"Old Chicago",image:"/temp/stones/aged_brick/old_chicago.jpg",show:!0},{name:"Oxford",image:"/temp/stones/aged_brick/Oxford.jpg",show:!0},{name:"Winterton",image:"/temp/stones/aged_brick/Winterton.jpg",show:!0}]},{name:"Chiseled Limestone",image:"/temp/stones/chiseled_limestone/Alabaster.jpg",status:!0,isInStock:!0,colors:[{name:"Alabaster",image:"/temp/stones/chiseled_limestone/Alabaster.jpg",show:!0},{name:"Alpine",image:"/temp/stones/chiseled_limestone/Alpine.jpg",show:!0},{name:"Bisque",image:"/temp/stones/chiseled_limestone/Bisque.jpg",show:!0},{name:"Charcoal",image:"/temp/stones/chiseled_limestone/Charcoal.jpg",show:!0},{name:"Conifer",image:"/temp/stones/chiseled_limestone/Conifer.jpg",show:!0},{name:"Durango Brown",image:"/temp/stones/chiseled_limestone/Durango Brown.jpg",show:!0},{name:"Granite Ridge",image:"/temp/stones/chiseled_limestone/Granite Ridge.jpg",show:!0},{name:"Sahara",image:"/temp/stones/chiseled_limestone/Sahara.jpg",show:!0},{name:"Sandstone",image:"/temp/stones/chiseled_limestone/Sandstone.jpg",show:!0}]},{name:"Contemporary Brick",image:"/temp/stones/contemporary_brick/Ashen.jpg",status:!0,isInStock:!0,colors:[{name:"Ashen",image:"/temp/stones/contemporary_brick/CB_Ashen.jpg",show:!0},{name:"Brownstone",image:"/temp/stones/contemporary_brick/CB_Brownstone.jpg",show:!0},{name:"Bisque",image:"/temp/stones/contemporary_brick/CB_Bisque.jpg",show:!0},{name:"Coral",image:"/temp/stones/contemporary_brick/CB_Coral.jpg",show:!0},{name:"Ebony",image:"/temp/stones/contemporary_brick/CB_Ebony.jpg",show:!0}]},{name:"Country Cliffstone",image:"/temp/stones/country_cliffstone/CC_Alabaster.jpg",status:!0,isInStock:!0,colors:[{name:"Alabaster",image:"/temp/stones/country_cliffstone/CC_Alabaster.jpg",show:!0},{name:"Alpine",image:"/temp/stones/country_cliffstone/CC_Alpine.jpg",show:!0},{name:"Bisque",image:"/temp/stones/country_cliffstone/CC_Bisque.jpg",show:!0},{name:"Bow Valley",image:"/temp/stones/country_cliffstone/CC_Bow Valley.jpg",show:!0},{name:"Driftwood",image:"/temp/stones/country_cliffstone/CC_Driftwood.jpg",show:!0},{name:"Durango Brown",image:"/temp/stones/country_cliffstone/CC_Durango Brown.jpg",show:!0},{name:"Granite Ridge",image:"/temp/stones/country_cliffstone/CC_Granite Ridge.jpg",show:!0},{name:"Montana Slate",image:"/temp/stones/country_cliffstone/CC_Montana Slate.jpg",show:!0},{name:"Rundle",image:"/temp/stones/country_cliffstone/CC_Rundle.jpg",show:!0}]},{name:"Field Stone",image:"/temp/stones/field_stone/F_Alpine.jpg",status:!0,isInStock:!0,colors:[{name:"Alpine",image:"/temp/stones/field_stone/F_Alpine.jpg",show:!0},{name:"Aspen",image:"/temp/stones/field_stone/F_Aspen.jpg",show:!0},{name:"Bitteroot",image:"/temp/stones/field_stone/F_Bitteroot.jpg",show:!0},{name:"Driftwood",image:"/temp/stones/field_stone/F_Driftwood.jpg",show:!0},{name:"Durango Brown",image:"/temp/stones/field_stone/F_Durango Brown.jpg",show:!0},{name:"Granite Ridge",image:"/temp/stones/field_stone/F_Granite Ridge.jpg",show:!0}]},{name:"Glacier Stone",image:"/temp/stones/glacier_stone/GlacierStone_Aspen.png",status:!0,isInStock:!0,colors:[{name:"Aspen",image:"/temp/stones/glacier_stone/GlacierStone_Aspen.png",show:!0},{name:"Biteroot",image:"/temp/stones/glacier_stone/GlacierStone_Biteroot.png",show:!0},{name:"Northwest",image:"/temp/stones/glacier_stone/GlacierStone_Northwest Blend.png",show:!0}]},{name:"Mountain Ledge",image:"/temp/stones/mountain_ledge/ML_Alpine.jpg",status:!0,isInStock:!0,colors:[{name:"Alpine",image:"/temp/stones/mountain_ledge/ML_Alpine.jpg",show:!0},{name:"Charcoal",image:"/temp/stones/mountain_ledge/ML_Charcoal.jpg",show:!0},{name:"Cool River",image:"/temp/stones/mountain_ledge/ML_Cool River.jpg",show:!0},{name:"Driftwood",image:"/temp/stones/mountain_ledge/ML_Driftwood.jpg",show:!0},{name:"Durango",image:"/temp/stones/mountain_ledge/ML_Durango.jpg",show:!0},{name:"Granite Ridge",image:"/temp/stones/mountain_ledge/ML_Granite Ridge.jpg",show:!0},{name:"Montana Slate",image:"/temp/stones/mountain_ledge/ML_Montana Slate.jpg",show:!0},{name:"Rocky Mountain",image:"/temp/stones/mountain_ledge/ML_Rocky Mountain.jpg",show:!0},{name:"Rundle",image:"/temp/stones/mountain_ledge/ML_Rundle.jpg",show:!0},{name:"Valley",image:"/temp/stones/mountain_ledge/ML_Valley.jpg",show:!0}]},{name:"Northen Ledgestone",image:"/temp/stones/northern_ledgestone/NL_Alberta.jpg",status:!0,isInStock:!0,colors:[{name:"Alberta",image:"/temp/stones/northern_ledgestone/NL_Alberta.jpg",show:!0},{name:"Alpine",image:"/temp/stones/northern_ledgestone/NL_Alpine.jpg",show:!0},{name:"Bisque",image:"/temp/stones/northern_ledgestone/NL_Bisque.jpg",show:!0},{name:"Bonner",image:"/temp/stones/northern_ledgestone/NL_Bonner.jpg",show:!0},{name:"Bow Valley",image:"/temp/stones/northern_ledgestone/NL_Bow Valley.jpg",show:!0},{name:"Charcoal",image:"/temp/stones/northern_ledgestone/NL_Charcoal.jpg",show:!0},{name:"Coal River",image:"/temp/stones/northern_ledgestone/NL_Coal River.jpg",show:!0},{name:"Driftwood",image:"/temp/stones/northern_ledgestone/NL_Driftwood.jpg",show:!0},{name:"Durango Brown",image:"/temp/stones/northern_ledgestone/NL_Durango Brown.jpg",show:!0},{name:"Granite Ridge",image:"/temp/stones/northern_ledgestone/NL_Granite Ridge.jpg",show:!0},{name:"Harvest Blend",image:"/temp/stones/northern_ledgestone/NL_Harvest Blend.jpg",show:!0},{name:"High Country",image:"/temp/stones/northern_ledgestone/NL_HIgh Country.jpg",show:!0},{name:"Montana Slate",image:"/temp/stones/northern_ledgestone/NL_Montana Slate.jpg",show:!0},{name:"Rocky Mountain",image:"/temp/stones/northern_ledgestone/NL_Rocky Mountain.jpg",show:!0},{name:"Rundle",image:"/temp/stones/northern_ledgestone/NL_Rundle.jpg",show:!0}]},{name:"Rustic Ledgestone",image:"/temp/stones/rustic_ledgestone/RL_Alpine.jpg",status:!0,isInStock:!0,colors:[{name:"Alpine",image:"/temp/stones/rustic_ledgestone/RL_Alpine.jpg",show:!0},{name:"Biteroot",image:"/temp/stones/rustic_ledgestone/RL_Biteroot.jpg",show:!0},{name:"Bonner Country",image:"/temp/stones/rustic_ledgestone/RL_Bonner Country.jpg",show:!0},{name:"Charcoal",image:"/temp/stones/rustic_ledgestone/RL_Charcoal.jpg",show:!0},{name:"Coal River",image:"/temp/stones/rustic_ledgestone/RL_Coal River.jpg",show:!0},{name:"Durango Brown",image:"/temp/stones/rustic_ledgestone/RL_Durango Brown.jpg",show:!0},{name:"Granite Ridge",image:"/temp/stones/rustic_ledgestone/RL_Granite Ridge.jpg",show:!0},{name:"Harvest Blend",image:"/temp/stones/rustic_ledgestone/RL_Harvest Blend.jpg",show:!0},{name:"Montana Slate",image:"/temp/stones/rustic_ledgestone/RL_Montana Slate.jpg",show:!0}]},{name:"Shadow Ledgestone",image:"/temp/stones/shadow_ledgestone/SL_Alpine.jpg",status:!0,isInStock:!0,colors:[{name:"Alpine",image:"/temp/stones/shadow_ledgestone/SL_Alpine.jpg",show:!0},{name:"Biteroot",image:"/temp/stones/shadow_ledgestone/SL_Biteroot.jpg",show:!0},{name:"Bonner Country",image:"/temp/stones/shadow_ledgestone/SL_Bonner Country.jpg",show:!0},{name:"Conifer",image:"/temp/stones/shadow_ledgestone/SL_Conifer.jpeg",show:!0},{name:"Durango Brown",image:"/temp/stones/shadow_ledgestone/SL_Durango Brown.jpg",show:!0},{name:"Granite Ridge",image:"/temp/stones/shadow_ledgestone/SL_Granite Ridge.jpg",show:!0},{name:"Montana Slate",image:"/temp/stones/shadow_ledgestone/SL_Montana Slate.jpg",show:!0}]},{name:"Strip Ledge",image:"/temp/stones/strip_ledge/SL_Alabaster.jpg",status:!0,isInStock:!0,colors:[{name:"Alabaster",image:"/temp/stones/strip_ledge/SL_Alabaster.jpg",show:!0},{name:"Bisque",image:"/temp/stones/strip_ledge/SL_Bisque.jpg",show:!0},{name:"Dark Ocean",image:"/temp/stones/strip_ledge/SL_Dark Ocean.jpg",show:!0},{name:"Granite Ridge",image:"/temp/stones/strip_ledge/SL_Granite Ridge.jpg",show:!0}]}]),L=p([]),v=p([]),b=p(),j=p("categories"),k=p(),N=p(),V=p(),O=(e,s,o)=>e.map(t=>({x:t.x*s,y:t.y*o})),z=e=>new Promise((s,o)=>{const t=new Image;t.src=e,t.onload=()=>s(t),t.onerror=()=>o(new Error("Failed to load image"))}),T=(e,s,o)=>{const t=e.getContext("2d");let i=1/0,m=1/0,g=-1/0,c=-1/0;s.forEach(u=>{i=Math.min(i,u.x),m=Math.min(m,u.y),g=Math.max(g,u.x),c=Math.max(c,u.y)});const _=g-i,C=c-m;e.width=_,e.height=C,e.style.left=`${i}px`,e.style.top=`${m}px`,o.style.left=`${i}px`,o.style.top=`${m}px`,t.clearRect(0,0,_,C),t.fillStyle="rgba(26, 78, 25, 1)",t.beginPath(),s.forEach((u,l)=>{const d=u.x-i,w=u.y-m;l===0?t.moveTo(d,w):t.lineTo(d,w)}),t.closePath(),t.fill()},X=(e,s,o,t)=>{const i=e.getContext("2d");let m=1/0,g=1/0,c=-1/0,_=-1/0;s.forEach(l=>{m=Math.min(m,l.x),g=Math.min(g,l.y),c=Math.max(c,l.x),_=Math.max(_,l.y)});const C=c-m,u=_-g;if(e.width=C,e.height=u,e.style.left=`${m}px`,e.style.top=`${g}px`,o.style.left=`${m}px`,o.style.top=`${g}px`,i.clearRect(0,0,C,u),t){const l=document.createElement("canvas"),d=.03;l.width=t.width*d,l.height=t.height*d,l.getContext("2d").drawImage(t,0,0,l.width,l.height);const S=i.createPattern(l,"repeat");i.fillStyle=S}else{console.error("Image pattern is not available");return}i.beginPath(),s.forEach((l,d)=>{const w=l.x-m,S=l.y-g;d===0?i.moveTo(w,S):i.lineTo(w,S)}),i.closePath(),i.fill()},R=async()=>{const e=y.image.wall_shape.shapes[y.selectedWall],s=O(e,N.value,V.value);if(!b.value)T(L.value,s,v.value);else{const o=await z(k.value.image);X(L.value,s,v.value,o)}};K(()=>{const e=document.querySelector(".image-container img");e.complete?(N.value=e.clientWidth/e.naturalWidth,V.value=e.clientHeight/e.naturalHeight,R()):e.addEventListener("load",R)});const Y=e=>{b.value=e,j.value="colors"},U=e=>{k.value=e,console.log(k.value),R()};return(e,s)=>(x(),A(ee,null,{default:a(()=>[r(f,null,{default:a(()=>[r(h,{cols:"6",class:"d-flex justify-center"},{default:a(()=>[n("div",ne,[n("img",{src:D.image.image,class:"img-background"},null,8,oe),n("canvas",{ref_key:"canvasRefs",ref:L,style:{opacity:"100"},class:"shape-canvas"},null,512),n("div",{ref_key:"labelRefs",ref:v,class:"box-index"},B(y.selectedWall+1),513)])]),_:1}),r(h,{class:"d-flex align-center",cols:"6"},{default:a(()=>[r(te,{modelValue:M(j),"onUpdate:modelValue":s[1]||(s[1]=o=>Q(j)?j.value=o:null)},{default:a(()=>[r(P,{value:"categories"},{default:a(()=>[n("div",null,[r(f,null,{default:a(()=>[r(h,null,{default:a(()=>[se,n("div",null,[n("h4",ae," Wall "+B(y.selectedWall+1)+" Selected ",1)]),re,ie]),_:1})]),_:1}),r(f,null,{default:a(()=>[(x(!0),q(W,null,E(M(H),(o,t)=>(x(),A(h,{key:t,style:{position:"relative","max-inline-size":"12rem"},class:"d-flex justify-center align-center",onClick:i=>Y(o)},{default:a(()=>[n("div",le,[n("b",null,B(o.name),1)]),r($,{src:o.image,width:"12rem",height:"5rem",cover:"",style:{"border-radius":"10px"}},null,8,["src"])]),_:2},1032,["onClick"]))),128))]),_:1})])]),_:1}),r(P,{value:"colors"},{default:a(()=>[n("div",null,[r(f,null,{default:a(()=>[r(h,null,{default:a(()=>[n("div",me,[n("h6",ge,[n("span",{onClick:s[0]||(s[0]=o=>j.value="categories")},"Categories "),r(Z,{icon:"mdi-chevron-right"}),I(),ue])]),n("h4",pe," Wall "+B(y.selectedWall+1)+" Selected ",1),ce,de]),_:1})]),_:1}),r(f,null,{default:a(()=>[(x(!0),q(W,null,E(M(b).colors,(o,t)=>(x(),A(h,{key:t,style:{position:"relative","max-inline-size":"12rem"},class:"d-flex justify-center align-center",onClick:i=>U(o)},{default:a(()=>[n("div",he,[n("b",null,B(o.name),1)]),r($,{src:o.image,width:"12rem",height:"5rem",cover:"",style:{"border-radius":"10px"}},null,8,["src"])]),_:2},1032,["onClick"]))),128))]),_:1})])]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1}),r(f,null,{default:a(()=>[r(h,{class:"d-flex gap-x-3"},{default:a(()=>[r(F,{variant:"outlined",onClick:s[2]||(s[2]=()=>G("proceed","selectWall"))},{default:a(()=>[I(" Back ")]),_:1}),r(F,{onClick:s[3]||(s[3]=()=>G("proceed","main"))},{default:a(()=>[I(" Next ")]),_:1})]),_:1})]),_:1})]),_:1}))}});export{fe as _};
