import{d as h,a7 as k,c as C,e as f,r as S,o as I,p as R,w as a,q as e,a0 as n,J as j,K as T,i as d,k as t,V as q,t as _,N,v as u,I as B,aQ as b,Q as L,$ as m,s as g,aT as F}from"./index-b424d0ca.js";import{a as P}from"./axios-526f6025.js";import{r as V,e as U}from"./validators-c9ab5527.js";import{V as z}from"./VForm-c92e9d37.js";import{V as w}from"./VTextField-23f154a8.js";import{a as Q}from"./VCheckbox-aa700d69.js";import{b as x}from"./route-block-83d24a4e.js";import"./forwardRefs-9d31fcaa.js";const $="/assets/login-background-e8b133f8.png",D={class:"d-flex"},E=d("h6",{class:"text-h4 mb-1"}," Welcome ",-1),J=d("p",{class:"mb-0"}," Sign in your account ",-1),K={class:"d-flex align-center flex-wrap justify-space-between mt-2 mb-4"},M={class:"position-relative w-100"},W={class:"d-flex align-center justify-center w-100",style:{"max-block-size":"100vh","object-fit":"cover"}},A=h({__name:"login",setup(G){const c=k(),y=C(),o=f({userid:"",password:"",remember:!1}),v=async()=>{try{const s=await P.post("/users/login/",{email:o.value.userid,password:o.value.password},{withCredentials:!0});localStorage.setItem("authToken",s.data.jwt),localStorage.setItem("first_name",s.data.first_name),localStorage.setItem("last_name",s.data.last_name),localStorage.setItem("address",s.data.address),localStorage.setItem("contact_number",s.data.contact_number),localStorage.setItem("email",s.data.email),y.replace(c.query.to?String(c.query.to):"/")}catch(s){console.error("Login error:",s)}},i=f(!1);return(s,l)=>{const p=S("RouterLink");return I(),R(m,{class:"auth-wrapper",style:{"max-inline-size":"300rem"}},{default:a(()=>[e(n,{cols:"12",md:"4",class:"auth-card-v2 d-flex align-center justify-center",style:{"background-color":"rgb(var(--v-theme-surface))"}},{default:a(()=>[e(j,{flat:"","max-width":800,class:"mt-12 mt-sm-0 pa-6"},{default:a(()=>[e(T,{class:"justify-start"},{prepend:a(()=>[e(p,{to:"/"},{default:a(()=>[d("div",D,[e(t(q),{nodes:t(_).app.logo},null,8,["nodes"])])]),_:1})]),default:a(()=>[e(N,{class:"auth-title"},{default:a(()=>[u(B(t(_).app.title),1)]),_:1})]),_:1}),e(b,null,{default:a(()=>[E,J]),_:1}),e(b,null,{default:a(()=>[e(t(z),{onSubmit:L(v,["prevent"])},{default:a(()=>[e(m,null,{default:a(()=>[e(n,{cols:"12"},{default:a(()=>[e(w,{modelValue:t(o).userid,"onUpdate:modelValue":l[0]||(l[0]=r=>t(o).userid=r),autofocus:"",label:"Email",type:"text",rules:[t(V),t(U)]},null,8,["modelValue","rules"])]),_:1}),e(n,{cols:"12"},{default:a(()=>[e(w,{modelValue:t(o).password,"onUpdate:modelValue":l[1]||(l[1]=r=>t(o).password=r),label:"Password",type:t(i)?"text":"password","append-inner-icon":t(i)?"bx-hide":"bx-show",required:"",rules:[t(V)],"onClick:appendInner":l[2]||(l[2]=r=>i.value=!t(i))},null,8,["modelValue","type","append-inner-icon","rules"]),d("div",K,[e(Q,{modelValue:t(o).remember,"onUpdate:modelValue":l[3]||(l[3]=r=>t(o).remember=r),label:"Remember me"},null,8,["modelValue"]),e(p,{class:"text-primary ms-2",to:{name:"forgot-password"}},{default:a(()=>[u(" Forgot Password? ")]),_:1})]),e(m,null,{default:a(()=>[e(n,{cols:"12",md:"4"},{default:a(()=>[e(g,{block:"",type:"submit"},{default:a(()=>[u(" Login ")]),_:1})]),_:1}),e(n,{cols:"12",md:"4"},{default:a(()=>[e(g,{block:"",class:"mb-1",variant:"outlined",to:{name:"register"}},{default:a(()=>[u(" Signup ")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["onSubmit"])]),_:1})]),_:1})]),_:1}),e(n,{md:"8",class:"d-none d-md-flex"},{default:a(()=>[d("div",M,[d("div",W,[e(F,{src:t($)},null,8,["src"])])])]),_:1})]),_:1})}}});typeof x=="function"&&x(A);export{A as default};
