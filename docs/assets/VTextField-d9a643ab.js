import{a3 as N,aa as J,a7 as O,q as t,as as Q,a9 as G,b5 as H,aS as oe,ac as se,ae as re,aI as ue,aT as de,ai as ce,m as v,a6 as fe,e as S,ag as ve,ah as me,ak as ge,A as ye,aG as be,aU as xe,bg as Ce,N as X,O as Z,F as E,W as M,bL as he,am as ke,af as Ve,bH as Ie,an as _e,bM as Pe,a5 as Se,ao as Fe,aJ as Be,bN as Te,aO as Y,bO as we}from"./index-5c38423f.js";import{a as Re,e as $e,b as ee,f as Le,m as pe,V as K}from"./VInput-098737cb.js";import{n as Ae,a as De,s as Ee}from"./easing-9f15041e.js";import{f as Me}from"./forwardRefs-a29b5f65.js";const D=N()({name:"VFieldLabel",props:{floating:Boolean,...J()},setup(e,m){let{slots:n}=m;return O(()=>t(Re,{class:["v-field-label",{"v-field-label--floating":e.floating},e.class],style:e.style,"aria-hidden":e.floating||void 0},n)),{}}}),Ne=["underlined","outlined","filled","solo","solo-inverted","solo-filled","plain"],te=Q({appendInnerIcon:G,bgColor:String,clearable:Boolean,clearIcon:{type:G,default:"$clear"},active:Boolean,color:String,baseColor:String,dirty:Boolean,disabled:Boolean,error:Boolean,flat:Boolean,label:String,persistentClear:Boolean,prependInnerIcon:G,reverse:Boolean,singleLine:Boolean,variant:{type:String,default:"filled",validator:e=>Ne.includes(e)},"onClick:clear":H(),"onClick:appendInner":H(),"onClick:prependInner":H(),...J(),...oe(),...se(),...re()},"v-field"),le=N()({name:"VField",inheritAttrs:!1,props:{id:String,...$e(),...te()},emits:{"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,m){let{attrs:n,emit:V,slots:l}=m;const{themeClasses:g}=ue(e),{loaderClasses:x}=de(e),{focusClasses:U,isFocused:T,focus:w,blur:R}=ee(e),{InputIcon:F}=Le(e),{roundedClasses:$}=ce(e),C=v(()=>e.dirty||e.active),c=v(()=>!e.singleLine&&!!(e.label||l.label)),W=fe(),s=v(()=>e.id||`input-${W}`),j=v(()=>`${s.value}-messages`),L=S(),I=S(),p=S(),{backgroundColorClasses:a,backgroundColorStyles:d}=ve(me(e,"bgColor")),{textColorClasses:r,textColorStyles:y}=ge(v(()=>e.error||e.disabled?void 0:C.value&&T.value?e.color:e.baseColor));ye(C,b=>{if(c.value){const i=L.value.$el,u=I.value.$el;requestAnimationFrame(()=>{const f=Ae(i),o=u.getBoundingClientRect(),_=o.x-f.x,P=o.y-f.y-(f.height/2-o.height/2),h=o.width/.75,k=Math.abs(h-f.width)>1?{maxWidth:be(h)}:void 0,z=getComputedStyle(i),B=getComputedStyle(u),ae=parseFloat(z.transitionDuration)*1e3||150,ne=parseFloat(B.getPropertyValue("--v-field-label-scale")),ie=B.getPropertyValue("color");i.style.visibility="visible",u.style.visibility="hidden",De(i,{transform:`translate(${_}px, ${P}px) scale(${ne})`,color:ie,...k},{duration:ae,easing:Ee,direction:b?"normal":"reverse"}).finished.then(()=>{i.style.removeProperty("visibility"),u.style.removeProperty("visibility")})})}},{flush:"post"});const A=v(()=>({isActive:C,isFocused:T,controlRef:p,blur:R,focus:w}));function q(b){b.target!==document.activeElement&&b.preventDefault()}return O(()=>{var _,P,h;const b=e.variant==="outlined",i=l["prepend-inner"]||e.prependInnerIcon,u=!!(e.clearable||l.clear),f=!!(l["append-inner"]||e.appendInnerIcon||u),o=l.label?l.label({label:e.label,props:{for:s.value}}):e.label;return t("div",M({class:["v-field",{"v-field--active":C.value,"v-field--appended":f,"v-field--disabled":e.disabled,"v-field--dirty":e.dirty,"v-field--error":e.error,"v-field--flat":e.flat,"v-field--has-background":!!e.bgColor,"v-field--persistent-clear":e.persistentClear,"v-field--prepended":i,"v-field--reverse":e.reverse,"v-field--single-line":e.singleLine,"v-field--no-label":!o,[`v-field--variant-${e.variant}`]:!0},g.value,a.value,U.value,x.value,$.value,e.class],style:[d.value,y.value,e.style],onClick:q},n),[t("div",{class:"v-field__overlay"},null),t(xe,{name:"v-field",active:!!e.loading,color:e.error?"error":e.color},{default:l.loader}),i&&t("div",{key:"prepend",class:"v-field__prepend-inner"},[e.prependInnerIcon&&t(F,{key:"prepend-icon",name:"prependInner"},null),(_=l["prepend-inner"])==null?void 0:_.call(l,A.value)]),t("div",{class:"v-field__field","data-no-activator":""},[["filled","solo","solo-inverted","solo-filled"].includes(e.variant)&&c.value&&t(D,{key:"floating-label",ref:I,class:[r.value],floating:!0,for:s.value},{default:()=>[o]}),t(D,{ref:L,for:s.value},{default:()=>[o]}),(P=l.default)==null?void 0:P.call(l,{...A.value,props:{id:s.value,class:"v-field__input","aria-describedby":j.value},focus:w,blur:R})]),u&&t(Ce,{key:"clear"},{default:()=>[X(t("div",{class:"v-field__clearable",onMousedown:k=>{k.preventDefault(),k.stopPropagation()}},[l.clear?l.clear():t(F,{name:"clear"},null)]),[[Z,e.dirty]])]}),f&&t("div",{key:"append",class:"v-field__append-inner"},[(h=l["append-inner"])==null?void 0:h.call(l,A.value),e.appendInnerIcon&&t(F,{key:"append-icon",name:"appendInner"},null)]),t("div",{class:["v-field__outline",r.value]},[b&&t(E,null,[t("div",{class:"v-field__outline__start"},null),c.value&&t("div",{class:"v-field__outline__notch"},[t(D,{ref:I,floating:!0,for:s.value},{default:()=>[o]})]),t("div",{class:"v-field__outline__end"},null)]),["plain","underlined"].includes(e.variant)&&c.value&&t(D,{ref:I,floating:!0,for:s.value},{default:()=>[o]})])])}),{controlRef:p}}});function Oe(e){const m=Object.keys(le.props).filter(n=>!he(n)&&n!=="class"&&n!=="style");return ke(e,m)}const Ue=N()({name:"VCounter",functional:!0,props:{active:Boolean,max:[Number,String],value:{type:[Number,String],default:0},...J(),...Ve({transition:{component:Ie}})},setup(e,m){let{slots:n}=m;const V=v(()=>e.max?`${e.value} / ${e.max}`:String(e.value));return O(()=>t(_e,{transition:e.transition},{default:()=>[X(t("div",{class:["v-counter",e.class],style:e.style},[n.default?n.default({counter:V.value,max:e.max,value:e.value}):V.value]),[[Z,e.active]])]})),{}}}),We=["color","file","time","date","datetime-local","week","month"],je=Q({autofocus:Boolean,counter:[Boolean,Number,String],counterValue:Function,prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,suffix:String,type:{type:String,default:"text"},modelModifiers:Object,...pe(),...te()},"v-text-field"),Je=N()({name:"VTextField",directives:{Intersect:Pe},inheritAttrs:!1,props:je(),emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,m){let{attrs:n,emit:V,slots:l}=m;const g=Se(e,"modelValue"),{isFocused:x,focus:U,blur:T}=ee(e),w=v(()=>typeof e.counterValue=="function"?e.counterValue(g.value):(g.value??"").toString().length),R=v(()=>{if(n.maxlength)return n.maxlength;if(!(!e.counter||typeof e.counter!="number"&&typeof e.counter!="string"))return e.counter});function F(a,d){var r,y;!e.autofocus||!a||(y=(r=d[0].target)==null?void 0:r.focus)==null||y.call(r)}const $=S(),C=S(),c=S(),W=v(()=>We.includes(e.type)||e.persistentPlaceholder||x.value);function s(){var a;c.value!==document.activeElement&&((a=c.value)==null||a.focus()),x.value||U()}function j(a){V("mousedown:control",a),a.target!==c.value&&(s(),a.preventDefault())}function L(a){s(),V("click:control",a)}function I(a){a.stopPropagation(),s(),Y(()=>{g.value=null,we(e["onClick:clear"],a)})}function p(a){var r;const d=a.target;if(g.value=d.value,(r=e.modelModifiers)!=null&&r.trim&&["text","search","password","tel","url"].includes(e.type)){const y=[d.selectionStart,d.selectionEnd];Y(()=>{d.selectionStart=y[0],d.selectionEnd=y[1]})}}return O(()=>{const a=!!(l.counter||e.counter||e.counterValue),d=!!(a||l.details),[r,y]=Fe(n),[{modelValue:A,...q}]=K.filterProps(e),[b]=Oe(e);return t(K,M({ref:$,modelValue:g.value,"onUpdate:modelValue":i=>g.value=i,class:["v-text-field",{"v-text-field--prefixed":e.prefix,"v-text-field--suffixed":e.suffix,"v-text-field--flush-details":["plain","underlined"].includes(e.variant)},e.class],style:e.style},r,q,{focused:x.value}),{...l,default:i=>{let{id:u,isDisabled:f,isDirty:o,isReadonly:_,isValid:P}=i;return t(le,M({ref:C,onMousedown:j,onClick:L,"onClick:clear":I,"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"],role:"textbox"},b,{id:u.value,active:W.value||o.value,dirty:o.value||e.dirty,disabled:f.value,focused:x.value,error:P.value===!1}),{...l,default:h=>{let{props:{class:k,...z}}=h;const B=X(t("input",M({ref:c,value:g.value,onInput:p,autofocus:e.autofocus,readonly:_.value,disabled:f.value,name:e.name,placeholder:e.placeholder,size:1,type:e.type,onFocus:s,onBlur:T},z,y),null),[[Be("intersect"),{handler:F},null,{once:!0}]]);return t(E,null,[e.prefix&&t("span",{class:"v-text-field__prefix"},[e.prefix]),l.default?t("div",{class:k,"data-no-activator":""},[l.default(),B]):Te(B,{class:k}),e.suffix&&t("span",{class:"v-text-field__suffix"},[e.suffix])])}})},details:d?i=>{var u;return t(E,null,[(u=l.details)==null?void 0:u.call(l,i),a&&t(E,null,[t("span",null,null),t(Ue,{active:e.persistentCounter||x.value,value:w.value,max:R.value},l.counter)])])}:void 0})}),Me({},$,C,c)}});export{Je as V,je as m};
