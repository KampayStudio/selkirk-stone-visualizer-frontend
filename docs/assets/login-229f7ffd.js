import{d as S,a7 as I,c as R,e as m,r as j,o as L,p as q,w as a,q as e,a0 as d,J as N,K as T,i as r,k as t,V as B,t as b,N as P,v as c,I as F,ar as g,Q as U,$ as p,s as V,L as w,M as v,b6 as z,b7 as D}from"./index-3df34c37.js";import{a as M}from"./axios-526f6025.js";import{r as x,e as $}from"./validators-c9ab5527.js";import{V as E}from"./VForm-b399ad37.js";import{V as y}from"./VTextField-9b445013.js";import{V as J}from"./VCheckbox-671c9ce7.js";import{b as h}from"./route-block-83d24a4e.js";import"./VInput-d6dd115f.js";import"./forwardRefs-a29b5f65.js";import"./easing-9f15041e.js";import"./VSelectionControl-9a366258.js";const K="/assets/login-background-e8b133f8.png",Q={class:"d-flex"},W=r("h6",{class:"text-h4 mb-1"}," Welcome ",-1),A=r("p",{class:"mb-0"}," Sign in your account ",-1),G={class:"d-flex align-center flex-wrap justify-space-between mt-2 mb-4"},H={class:"position-relative w-100"},O={class:"d-flex align-center justify-center w-100",style:{"max-block-size":"100vh","object-fit":"cover"}},X=S({__name:"login",setup(Y){const f=I(),k=R(),i=m(!1),o=m({userid:"",password:"",remember:!1}),C=async()=>{i.value=!0;try{const s=await M.post("/users/login/",{email:o.value.userid,password:o.value.password},{withCredentials:!0});localStorage.setItem("authToken",s.data.jwt),localStorage.setItem("first_name",s.data.first_name),localStorage.setItem("last_name",s.data.last_name),localStorage.setItem("address",s.data.address),localStorage.setItem("contact_number",s.data.contact_number),localStorage.setItem("email",s.data.email),i.value=!1,k.replace(f.query.to?String(f.query.to):"/")}catch(s){console.error("Login error:",s),i.value=!1}},u=m(!1);return(s,l)=>{const _=j("RouterLink");return L(),q(p,{class:"auth-wrapper",style:{"max-inline-size":"300rem"}},{default:a(()=>[e(d,{cols:"12",md:"4",class:"auth-card-v2 d-flex align-center justify-center",style:{"background-color":"rgb(var(--v-theme-surface))"}},{default:a(()=>[e(N,{flat:"","max-width":800,class:"mt-12 mt-sm-0 pa-6"},{default:a(()=>[e(T,{class:"justify-start"},{prepend:a(()=>[e(_,{to:"/"},{default:a(()=>[r("div",Q,[e(t(B),{nodes:t(b).app.logo},null,8,["nodes"])])]),_:1})]),default:a(()=>[e(P,{class:"auth-title"},{default:a(()=>[c(F(t(b).app.title),1)]),_:1})]),_:1}),e(g,null,{default:a(()=>[W,A]),_:1}),e(g,null,{default:a(()=>[e(t(E),{onSubmit:U(C,["prevent"])},{default:a(()=>[e(p,null,{default:a(()=>[e(d,{cols:"12"},{default:a(()=>[e(y,{modelValue:t(o).userid,"onUpdate:modelValue":l[0]||(l[0]=n=>t(o).userid=n),autofocus:"",label:"Email",type:"text",rules:[t(x),t($)]},null,8,["modelValue","rules"])]),_:1}),e(d,{cols:"12"},{default:a(()=>[e(y,{modelValue:t(o).password,"onUpdate:modelValue":l[1]||(l[1]=n=>t(o).password=n),label:"Password",type:t(u)?"text":"password","append-inner-icon":t(u)?"bx-hide":"bx-show",required:"",rules:[t(x)],"onClick:appendInner":l[2]||(l[2]=n=>u.value=!t(u))},null,8,["modelValue","type","append-inner-icon","rules"]),r("div",G,[e(J,{modelValue:t(o).remember,"onUpdate:modelValue":l[3]||(l[3]=n=>t(o).remember=n),label:"Remember me"},null,8,["modelValue"]),e(_,{class:"text-primary ms-2",to:{name:"forgot-password"}},{default:a(()=>[c(" Forgot Password? ")]),_:1})]),e(p,null,{default:a(()=>[e(d,{cols:"12",md:"4"},{default:a(()=>[e(V,{type:"submit",block:""},{default:a(()=>[w(r("div",null," Login ",512),[[v,!t(i)]]),w(e(z,{indeterminate:"",color:"white"},null,512),[[v,t(i)]])]),_:1})]),_:1}),e(d,{cols:"12",md:"4"},{default:a(()=>[e(V,{block:"",class:"mb-1",variant:"outlined",to:{name:"register"}},{default:a(()=>[c(" Signup ")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["onSubmit"])]),_:1})]),_:1})]),_:1}),e(d,{md:"8",class:"d-none d-md-flex"},{default:a(()=>[r("div",H,[r("div",O,[e(D,{src:t(K)},null,8,["src"])])])]),_:1})]),_:1})}}});typeof h=="function"&&h(X);export{X as default};
